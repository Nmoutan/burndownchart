name: Build and Upload Burndown Chart

on: [push]  # 触发条件，这里示例为每次代码推送时

jobs:
  build:
    runs-on: ubuntu-latest  # 运行环境

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3  # 检出代码，使用最新版本的动作

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '16'  # 设置Node.js版本

    - name: Install dependencies
      run: npm install  # 安装依赖

    - name: Generate Burndown Chart
      run: npm run-script generate-burndown  # 运行脚本生成燃尽图，需要你项目中有相应的脚本

    - name: Upload Burndown Chart
      uses: actions/upload-artifact@v3  # 使用最新版本的动作上传燃尽图
      with:
        name: burndown-chart
        path: path/to/burndown-chart.png  # 上传燃尽图的路径
